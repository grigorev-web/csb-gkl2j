(this.webpackJsonpcalender=this.webpackJsonpcalender||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(6),o=a.n(r),c=a(0),l=a(5),i=a(4),u=a.n(i),w=(a(13),a(14),["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]),D=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"];new Date,function(){var e=new Date;e.setDate(e.getDate()+4)}();var j=a(8),b=a(1);function h(e){return Array.isArray(e.event.category)?Object(b.jsxs)("div",{className:"post post_medium",children:[Object(b.jsx)("div",{className:"post__image-content",children:Object(b.jsx)("a",{href:e.event.permalink,children:Object(b.jsx)("img",{className:"post__image",src:e.event.image,"data-spai":"1",alt:"","data-spai-upd":"374"})})}),Object(b.jsxs)("div",{className:"post__content post__content_small post__content_high",children:[e.event.category.map((function(e,t){return Object(b.jsx)("a",{className:"link post__tag",href:"https://russoft.org/our-events/?events-cat=russoft-events",children:e.name},t)}))," ",Object(b.jsxs)("a",{href:e.event.permalink,className:"link post__name post__name_small",children:[e.event.title," "]}),Object(b.jsx)("div",{className:"post__description",children:e.event.short_description}),Object(b.jsxs)("div",{className:"post__date",children:[Object(b.jsx)(j.a,{}),Object(b.jsxs)("span",{className:"post__time",children:[e.event.date," "]})]})]})]}):null}var d=a(7);function v(e,t){var a=window.location.protocol+"//"+window.location.host+window.location.pathname;if(0!==arguments.length)if(window.history.pushState){var n=new URL(window.location.href),s=new URLSearchParams(n.search);s.set(e,t);var r=a+"?"+s.toString();window.history.pushState(null,null,r)}else console.warn("History API \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f");else window.history.pushState(null,null,a)}var g=function(){var e=s.a.useState(function(){var e=new URLSearchParams(window.location.search),t=e.get("from")?new Date(new Date(Number(e.get("from"))).setHours(0)):new Date((new Date).setHours(0)),a=e.get("to")?new Date(new Date(Number(e.get("to"))).setHours(23,59)):new Date((new Date).setDate((new Date).getDate()+31)),n="";if((!e.get("from")||!e.get("to"))&&e.get("period"))switch(e.get("period")){case"next-week":n="next-week",t=new Date((new Date).setHours(0)),a=new Date((new Date).setDate((new Date).getDate()+7));break;case"next-month":n="next-month",t=new Date((new Date).setHours(0)),a=new Date((new Date).setDate((new Date).getDate()+31));break;case"next-half-year":n="next-half-year",t=new Date((new Date).setHours(0)),a=new Date((new Date).setDate((new Date).getDate()+180));break;case"next-year":n="next-year",t=new Date((new Date).setHours(0)),a=new Date((new Date).setDate((new Date).getDate()+365));break;case"last-week":n="last-week",t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setHours(23,59));break;case"last-month":n="last-month",t=new Date((new Date).setDate((new Date).getDate()-30)),a=new Date((new Date).setHours(23,59));break;case"last-half-year":n="last-half-year",t=new Date((new Date).setDate((new Date).getDate()-182)),a=new Date((new Date).setHours(23,59));break;case"last-year":n="last-year",t=new Date((new Date).setDate((new Date).getDate()-365)),a=new Date((new Date).setHours(23,59));break;default:t=null,a=null}var s=e.get("type")?e.get("type"):"";return{range:{from:t,to:a},enteredTo:a,events:[],showEvents:10,select:{type:s,period:n}}}()),t=Object(l.a)(e,2),a=t[0],r=t[1];function o(e,t,a){var n=e&&i.DateUtils.isDayBefore(a,e);return!e||n||e&&t}function j(){v(),r((function(e){return Object(c.a)(Object(c.a)({},e),{},{range:{from:null,to:null},select:{type:"",period:""},showEvents:10})}))}Object(n.useEffect)((function(){!function(){var e=new URLSearchParams;e.append("from",a.range.from),e.append("to",a.range.to),fetch("https://russoft.org/wp-content/plugins/react-calendar/api.php?action=get_events&"+e).then((function(e){return e.json()})).then((function(e){console.log("fetch data: ",e);var t=[];Object.entries(e).map((function(e,a){var n=Object(l.a)(e,2),s=(n[0],n[1]);t.push(s)})),console.log(t),r((function(e){return Object(c.a)(Object(c.a)({},e),{},{events:t})}))}))}()}),[]),console.log("state",a);var g=a.range,f=a.enteredTo,O={before:new Date},p=[g.from,{from:g.from,to:f}];"test"===a.select.type&&alert("test");var m=a.events.map((function(e,t){return"russoft-events"===a.select.type&&Array.isArray(e.category)&&e.category.length>0&&"russoft-events"!==e.category[0].slug||"partners-events"===a.select.type&&Array.isArray(e.category)&&e.category.length>0&&"partners-events"!==e.category[0].slug?null:new Date(e.date)})),y={weekends:{daysOfWeek:[6,0]},start:g.from,end:g.to,highlighted:m},x=0,k=a.events;console.log("events1",a.events),k=k.filter((function(e){var t=new Date(e.date);return(t>a.range.from&&t<a.range.to||null==a.range.from)&&(x++,!0)})),console.log("filter date",k),console.log("state.select.type",a.select.type),k=k.filter((function(e){var t=e.category;switch(a.select.type){case"all-events":return!0;case"russoft-events":return Array.isArray(t)&&t.length>0&&"russoft-events"!==t[0].slug?(x--,!1):Array.isArray(t)?1:(x--,!1);case"partners-events":return Array.isArray(t)&&t.length>0&&"partners-events"!==t[0].slug?(x--,!1):Array.isArray(t)?1:(x--,!1);case"company-events":return Array.isArray(t)&&t.length>0&&"company-events"!==t[0].slug?(x--,!1):Array.isArray(t)?1:(x--,!1);default:return 1}})).sort((function(e,t){return new Date(e.date)-new Date(t.date)})).reverse(),console.log("events",k),console.log("events length",k.length);var _=k.map((function(e,t){return Object(b.jsx)(h,{event:e},t)})).slice(0,a.showEvents);console.log("listEvents",_);var H=a.showEvents<x;return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{className:"Range",numberOfMonths:2,firstDayOfWeek:1,fromMonth:g.from,selectedDays:p,disabledDays:O,modifiers:y,onDayClick:function(e){var t=a.range,n=t.from,s=t.to;n<s||n&&s&&e>=n&&e<=s?j():o(n,s,e)?(v("from",e.setHours(0)),r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date(e.setHours(0)),to:null},enteredTo:e,select:Object(c.a)(Object(c.a)({},t.select),{},{period:""})})}))):(v("to",e.setHours(23,59,59)),r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:Object(c.a)(Object(c.a)({},t.range),{},{to:new Date(e.setHours(23,59,59))}),select:Object(c.a)(Object(c.a)({},t.select),{},{period:""}),enteredTo:e,showEvents:10})})))},onDayMouseEnter:function(e){var t=a.range;o(t.from,t.to,e)||r((function(t){return Object(c.a)(Object(c.a)({},t),{},{enteredTo:e})}))},months:D,weekdaysShort:w}),Object(b.jsxs)("div",{className:"DayPicker-filter",children:[Object(b.jsxs)("div",{className:"DayPicker-filter__select",children:[Object(b.jsxs)("select",{value:a.select.type,onChange:function(e){v("type",e.target.value),r((function(t){return Object(c.a)(Object(c.a)({},t),{},{showEvents:10,select:Object(c.a)(Object(c.a)({},t.select),{},{type:e.target.value})})}))},children:[Object(b.jsx)("option",{value:"all-events",children:"\u0412\u0441\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f"}),Object(b.jsx)("option",{value:"\u0442\u0435\u0441\u0442",children:"\u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430(\u0442\u0435\u0441\u0442)"}),Object(b.jsx)("option",{value:"russoft-events",children:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u0420\u0423\u0421\u0421\u041e\u0424\u0422"}),Object(b.jsx)("option",{value:"partners-events",children:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u043f\u0430\u0440\u0442\u043d\u0435\u0440\u043e\u0432"}),Object(b.jsx)("option",{value:"company-events",children:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"})]}),Object(b.jsxs)("select",{value:a.select.period,onChange:function(e){switch(v("period",e.target.value),e.target.value){case"all-period":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:null,to:null},showEvents:10,select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:null})}));break;case"next-week":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+7))},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+7)),showEvents:10})}));break;case"next-month":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+31))},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+31)),showEvents:10})}));break;case"next-half-year":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+180)),showEvents:10},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+180)),showEvents:10})}));break;case"next-year":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setHours(0)),to:new Date((new Date).setDate((new Date).getDate()+365)),showEvents:10},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date((new Date).setDate((new Date).getDate()+365))})}));break;case"last-week":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-7)),to:new Date((new Date).setHours(23,59))},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date,showEvents:10})}));break;case"last-month":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-30)),to:new Date((new Date).setHours(23,59))},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date,showEvents:10})}));break;case"last-half-year":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-182)),to:new Date((new Date).setHours(23,59))},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date,showEvents:10})}));break;case"last-year":r((function(t){return Object(c.a)(Object(c.a)({},t),{},{range:{from:new Date((new Date).setDate((new Date).getDate()-365)),to:new Date((new Date).setHours(23,59))},select:Object(c.a)(Object(c.a)({},t),{},{period:e.target.value}),enteredTo:new Date,showEvents:10})}))}},children:[Object(b.jsx)("option",{value:"all-period",children:"\u0417\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"}),Object(b.jsx)("option",{value:"next-week",children:"\u041d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(b.jsx)("option",{value:"next-month",children:"\u041d\u0430 \u043c\u0435\u0441\u044f\u0446 \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(b.jsx)("option",{value:"next-half-year",children:"\u041d\u0430 \u043f\u043e\u043b\u0433\u043e\u0434\u0430 \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(b.jsx)("option",{value:"next-year",children:"\u041d\u0430 \u0433\u043e\u0434 \u0432\u043f\u0435\u0440\u0435\u0434"}),Object(b.jsx)("option",{value:"last-week",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e"}),Object(b.jsx)("option",{value:"last-month",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(b.jsx)("option",{value:"last-half-year",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0435 \u043f\u043e\u043b\u0433\u043e\u0434\u0430"}),Object(b.jsx)("option",{value:"last-year",children:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u0433\u043e\u0434"})]})]}),Object(b.jsx)("div",{className:"DayPicker-filter__clear-button",children:Object(b.jsx)("button",{className:"link",onClick:j,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]}),Object(b.jsxs)("div",{className:"counter",children:[k.length," \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0439"]}),Object(b.jsx)("div",{className:"row row_flex",children:Object(b.jsx)(d.a,{dataLength:a.showEvents,next:function(){setTimeout((function(){r((function(e){return Object(c.a)(Object(c.a)({},e),{},{showEvents:e.showEvents+10})}))}),1500)},hasMore:H,loader:Object(b.jsx)("h4",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:_})})]})},f=document.getElementById("root");o.a.render(Object(b.jsx)(n.StrictMode,{children:Object(b.jsx)(g,{})}),f)}},[[16,1,2]]]);
//# sourceMappingURL=main.54674836.chunk.js.map